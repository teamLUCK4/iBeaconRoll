FROM golang:1.21

WORKDIR /app

COPY go.mod .
COPY go.sum .
RUN go mod download

COPY . .

# ğŸ”¥ ë¹Œë“œ + ì‹¤í–‰ íŒŒì¼ ì¡´ì¬ í™•ì¸
RUN echo "ğŸ“¦ ë¹Œë“œ ì¤‘..." && go build -o server . && echo "âœ… build ok" && ls -l && ls -l server

# âœ… CMDê°€ ì •í™•í•œ ìœ„ì¹˜ì—ì„œ ./server ì‹¤í–‰ë˜ê²Œ ë³´ì¥
CMD ["/app/server"]
